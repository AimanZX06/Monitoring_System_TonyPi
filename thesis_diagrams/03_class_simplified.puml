@startuml Class Diagram - TonyPi Monitoring System
!theme plain
skinparam class {
    BackgroundColor White
    BorderColor #333333
    ArrowColor #333333
}
skinparam linetype ortho

title TonyPi Monitoring System - Class Diagram (Simplified)

' Frontend
package "Frontend" #LightBlue {
    class ReactUI {
        - websocket: WebSocket
        - currentUser: User
        --
        + renderDashboard()
        + sendCommand()
        + displayAlerts()
    }
}

' Backend
package "Backend" #LightGreen {
    class FastAPIBackend {
        - mqttClient: MQTTClient
        - dbSession: Session
        --
        + getRobotStatus()
        + postCommand()
        + authenticate()
    }
    
    class GeminiAI {
        - model: GenerativeModel
        --
        + generateReport()
        + analyzeTelemetry()
    }
}

' Message Broker
package "Messaging" #LightCoral {
    class MosquittoMQTT {
        - brokerHost: String
        --
        + publish()
        + subscribe()
    }
}

' Databases
package "Database" #LightYellow {
    class PostgreSQL {
        - tables: List
        --
        + query()
        + insert()
    }
    
    class InfluxDB {
        - bucket: String
        --
        + writePoint()
        + queryRange()
    }
}

' Robot Client
package "Robot Client" #Orange {
    class TonyPiClient {
        - sensors: List
        - servos: List
        --
        + publishTelemetry()
        + executeCommand()
        + streamCamera()
    }
}

' Relationships
ReactUI --> FastAPIBackend : HTTP/WebSocket
FastAPIBackend --> MosquittoMQTT : pub/sub
FastAPIBackend --> PostgreSQL : metadata
FastAPIBackend --> InfluxDB : time-series
FastAPIBackend --> GeminiAI : analysis
TonyPiClient --> MosquittoMQTT : telemetry
MosquittoMQTT --> FastAPIBackend : events

@enduml
